<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/main.css">

        <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <title>Hello, world!</title>
  </head>
  <body>

    <div class="black-background">
      <div class="white-background">
        <p>로그인하세요</p>
        <form action="boot.html">
          <div class="form-group">
            <input 
              type="text" 
              id="email-input" 
              class="form-control" 
              placeholder="Email"
            />
            <p id="email-err1">이메일을 입력해주세요</p>
            <p id="email-err2">이메일 형식을 확인해주세요</p>
          </div>
          <div class="form-group">
            <input 
              type="password" 
              id="pw-input" 
              class="form-control" 
              placeholder="Password" 
              minLength="8" 
            />
            <p id="pw-err">패스워드를 입력해주세요</p>
            <p id="pw-err2">패스워드는 대문자, 숫자, 특수문자가 포함되어야 합니다</p>
          </div>
          <button 
            type="submit" 
            id="submit" 
            class="btn btn-primary"
            >전송
          </button>
          <button id="close" class="btn btn-danger">닫기</button>
        </form>
      </div>
    </div>

    <div class="left-menu">
      <p>Menu Title</p>
      <button class="left-menu-close">X</button>
    </div>

    <div class="nav-menu">
      <h4>Football Studio</h4>
      <a class="nav-sub-btn">Product</a>
    </div>
    <ul class="list-group nav-sub">
      <li class="list-group-item">유니폼</li>
      <li class="list-group-item">축구화</li>
      <li class="list-group-item">트레이닝복</li>
      <li class="list-group-item">축구용품</li>
    </ul>

    <div class="jumbotron main-background">
      <h1 class="display-4">Football Studio</h1>
      <p class="lead">..</p>
      <hr class="my-4">
      <p>...</p>
      <a 
        id="login" 
        class="btn btn-primary btn-lg" 
        href="#" 
        role="button">
        로그인
      </a>
      <a 
        id="show-menu" 
        class="btn btn-danger btn-lg" 
        href="#" 
        role="button">
        메뉴
      </a>
    </div>

    <h4 class="my-4 text-center">Showcase</h4>

    <div style="overflow: hidden; position: relative;">
      <div class="slide-container">
        <div class="slide-box">
          <img src="/uniform.jpeg" alt="유니폼">
        </div>
        <div class="slide-box">
          <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRb0_jhKw-Qrj5U5I4JQ2w4KNBdRDULkNICnzVk6tQ56DrEnkD5Udv5q3aTyPl_J01eWGk&usqp=CAU" alt="축구화">
        </div>
        <div class="slide-box">
          <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfS7q88uTTgOfbDpaNuUDf34WtaZpG_RR9hg&usqp=CAU" alt="트레이닝복">
        </div>
      </div>
      <button class="slide-prev">←</button>        
      <button class="slide-next">→</button>        
      
      <button class="slide-1">1</button>
      <button class="slide-2">2</button>
      <button class="slide-3">3</button>
    </div>


    <div class="my-5"></div>

    <script>

      // // == 느슨비교
      // if( 1 == '1') {
      //   console.log('같다')
      // }
      // // 같다고 콘솔에 나옴

      // // === 엄격비교
      // // 자료의 타입까지 같아야 한다.
      // if( 1 === '1') {
      //   console.log('같다')
      // } console.log('다르다')
      // // 다르다 라고 콘솔에 나옴

      // 로그인버튼
      const onLogin = () => {
        $('.black-background').addClass('slide-down');
      }

      // 로그인창 닫기버튼
      const closed = () => {
        $('.black-background').removeClass('slide-down');
      }

      // form 전송시 유효성검사
      const submitForm = (e) => {
        const userEmail = $('#email-input').val();
        const userPw = $('#pw-input').val();
        // 정규표현식 
        const emailCheck = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
        const pwCheck = RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^*()\-_=+\\\|\[\]{};:\'",.<>\/?]).{8,16}$/);

        
        // email 유효성 검사
        if(userEmail === "") {
          e.preventDefault();
          $('#email-input').focus()
          $('#email-err1').show();
        } else if(emailCheck.test(userEmail) === false) {
          e.preventDefault();
          $('#email-input').focus()
          $('#email-err2').show();
        } else {
          $('#pw-input').focus()
        }

        // password 유효성 검사
        if(userPw === "") {
          e.preventDefault();
          $('#pw-err').show();
        } else if(pwCheck.test(userPw) === false) {
          e.preventDefault();
          $('#pw-input').focus()
          $('#pw-err2').show();
        }
      }

      // input change시 에러메세지 hide
      const inputChange = (e) => {
        const userEmail = $('#email-input').val();
        const userPw = $('#pw-input').val();
        const emailCheck = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
        const pwCheck = RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^*()\-_=+\\\|\[\]{};:\'",.<>\/?]).{8,16}$/);

        if(userEmail !== "") {
          $('#email-err1').hide();
        } 
        if(emailCheck.test(userEmail) !== false) {
          $('#email-err2').hide();
        }

        if(userPw !== "") {
          $('#pw-err').hide();
        } 
        if(pwCheck.test(userPw) !== false) {
          $('#pw-err2').hide();
        }
      }

      // product menu
      const onMenuClick = () => {
        // slide up/down 왔다갔다.
        // $('.nav-sub').slideToggle();
        $('.nav-sub').fadeToggle();
      }

      // left menu

      function showMenu(){
        $('.left-menu').animate({marginLeft: '0px'}, 1000)
      }

      function leftMenuClose() {
        $('.left-menu').animate({marginLeft: '-200px'}, 1000)
      }

      // img slide
      const slideMove1 = () => {
        const leftSlide = $(".slide-container")
        leftSlide.css("transform", "translateX(0vw)")
      }
      const slideMove2 = () => {
        const leftSlide = $(".slide-container")
        leftSlide.css("transform", "translateX(-100vw)")
      }
      const slideMove3 = () => {
        const leftSlide = $(".slide-container")
        leftSlide.css("transform", "translateX(-200vw)")
      }

      // slide btn
      let currentImg = 1;
      const slideNext = () => {
        if(currentImg < 3) {
          $(".slide-container").css("transform", "translateX(-"+currentImg+"00vw)");
          currentImg = currentImg + 1;
          console.log(currentImg)
        }
      }

      const slidePrev = () => {        
        if(currentImg > 1) {
          $(".slide-container").css("transform", "translateX(-"+(currentImg-2)+"00vw)");
          currentImg = currentImg - 1;
          console.log(currentImg)
        }
      }

      // event 적용
      // 로그인폼
      $('#login').click(onLogin);
      $('#close').on('click', closed);

      // 유효성 검사
      $('form').submit(submitForm);
      $('form').on('input', inputChange); // input은 값이 변경될 때 실행
      // $('form').on('change', inputChange); // change는 값이 변경하고 focus를 옮기면 실행

      // nav 버튼(우상단)
      $('.nav-sub-btn').click(onMenuClick);

      // 메뉴보기
      $('#show-menu').click(showMenu);
      $('.left-menu-close').click(leftMenuClose);

      // img slide
      $(".slide-1").click(slideMove1);
      $(".slide-2").click(slideMove2);
      $(".slide-3").click(slideMove3);

      // slide next, prev
      $('.slide-next').click(slideNext);
      $('.slide-prev').click(slidePrev);

    </script>
  </body>
</html>