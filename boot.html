<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/main.css">

    <title>Hello, world!</title>
  </head>
  <body>

    <div class="black-background">
      <div class="white-background">
        <p>로그인하세요</p>
        <form action="boot.html">
          <div class="form-group">
            <input type="email" id="email-input" class="form-control" placeholder="Email">
            <p id="email-err1">이메일을 입력해주세요</p>
            <p id="email-err2">이메일 형식을 확인해주세요</p>
          </div>
          <div class="form-group">
            <input type="password" id="pw-input" class="form-control" placeholder="Password" minLength="8" maxlength="16">
            <p id="pw-err">패스워드를 입력해주세요</p>
            <p id="pw-err2">패스워드에 대문자가 포함되어야 합니다</p>
          </div>
          <button type="submit" id="submit" class="btn btn-primary">전송</button>
          <button id="close" class="btn btn-danger">닫기</button>
        </form>
      </div>
    </div>

    <div class="left-menu">
      <p>Menu Title</p>
      <button class="left-menu-close">X</button>
    </div>

    <div class="nav-menu">
      <h4>Football Studio</h4>
      <a class="nav-sub-btn">Menu</a>
    </div>

    <ul class="list-group nav-sub">
      <li class="list-group-item">An item</li>
      <li class="list-group-item">A second item</li>
      <li class="list-group-item">A third item</li>
      <li class="list-group-item">A fourth item</li>
      <li class="list-group-item">And a fifth one</li>
    </ul>

    <div class="jumbotron main-background">
      <h1 class="display-4">Football Studio</h1>
      <p class="lead">..</p>
      <hr class="my-4">
      <p>...</p>
      <a id="login" class="btn btn-primary btn-lg" href="#" role="button">로그인</a>
      <a id="show-menu" class="btn btn-danger btn-lg" href="#" role="button">메뉴 더보기</a>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <script>

      // // == 느슨비교
      // if( 1 == '1') {
      //   console.log('같다')
      // }
      // // 같다고 콘솔에 나옴

      // // === 엄격비교
      // // 자료의 타입까지 같아야 한다.
      // if( 1 === '1') {
      //   console.log('같다')
      // } console.log('다르다')
      // // 다르다 라고 콘솔에 나옴

      
      const onLogin = () => {
        $('.black-background').addClass('slide-down');
      }

      const closed = () => {
        $('.black-background').removeClass('slide-down');
      }

      const submitForm = (e) => {
        const userEmail = $('#email-input').val();
        const userPw = $('#pw-input').val();
        const emailCheck = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
        // const pwCheck = RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^*()\-_=+\\\|\[\]{};:\'",.<>\/?]).{8,16}$/);

        // 정규표현식
        if(userEmail === "") {
          e.preventDefault();
          $('#email-input').focus()
          $('#email-err1').show();
        } else if(emailCheck.test(userEmail) === false) {
          e.preventDefault();
          $('#email-input').focus()
        } else {
          $('#pw-input').focus()
        }

        if(userPw === "") {
          e.preventDefault();
          $('#pw-err').show();
        } else if(/[A-Z]/.test(userPw) === false) {
          e.preventDefault();
          $('#pw-input').focus()
          $('#pw-err2').show();
        }


        // if($('#email-input').val() === "") {
        //   e.preventDefault();
        //   $('#email-err').show();
        // } 

        // if ($('#pw-input').val() === "") {
        //   e.preventDefault();
        //   $('#pw-err').show();
        // }
      }

      const inputChange = (e) => {
        const userEmail = $('#email-input').val();
        const emailCheck = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;

        if(userEmail !== "") {
          $('#email-err1').hide();
        } else if(emailCheck.test(userEmail) === true) {
          $('#email-err2').hide();
        }

        if($('#pw-input').val() !== "") {
          $('#pw-err').hide();
        }
      }
      
      const onMenuClick = () => {
        // slide up/down 왔다갔다.
        // $('.nav-sub').slideToggle();
        $('.nav-sub').fadeToggle();
      }

      function showMenu(){
        $('.left-menu').animate({marginLeft: '0px'}, 1000)
      }

      function leftMenuClose() {
        $('.left-menu').animate({marginLeft: '-200px'}, 1000)
      }

      $('#login').click(onLogin);
      $('form').submit(submitForm);
      $('form').on('input', inputChange); // input은 값이 변경될 때 실행
      // $('form').on('change', inputChange); // change는 값이 변경하고 focus를 옮기면 실행
      $('#close').on('click', closed);
      $('.nav-sub-btn').click(onMenuClick);
      $('#show-menu').click(showMenu)
      $('.left-menu-close').click(leftMenuClose)

    </script>
  </body>
</html>